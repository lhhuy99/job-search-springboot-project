<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<title>Work CV</title>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link
	href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700&display=swap"
	rel="stylesheet">

<!-- CSS -->
<link rel="stylesheet"
	th:href="@{/assets/css/open-iconic-bootstrap.min.css}">
<link rel="stylesheet" th:href="@{/assets/css/animate.css}">
<link rel="stylesheet" th:href="@{/assets/css/owl.carousel.min.css}">
<link rel="stylesheet"
	th:href="@{/assets/css/owl.theme.default.min.css}">
<link rel="stylesheet" th:href="@{/assets/css/magnific-popup.css}">
<link rel="stylesheet" th:href="@{/assets/css/owl.carousel.min.css}">
<link rel="stylesheet"
	th:href="@{/assets/css/owl.theme.default.min.css}">
<link rel="stylesheet" th:href="@{/assets/css/aos.css}">
<link rel="stylesheet" th:href="@{/assets/css/ionicons.min.css}">
<link rel="stylesheet" th:href="@{/assets/css/bootstrap-datepicker.css}">
<link rel="stylesheet" th:href="@{/assets/css/jquery.timepicker.css}">
<link rel="stylesheet" th:href="@{/assets/css/css/bootstrap-reboot.css}">
<link rel="stylesheet"
	th:href="@{/assets/css/css/mixins/_text-hide.css}">
<link rel="stylesheet" th:href="@{/assets/css/flaticon.css}">
<link rel="stylesheet" th:href="@{/assets/css/icomoon.css}">
<link rel="stylesheet" th:href="@{/assets/css/style.css}">
<link rel="stylesheet"
	th:href="@{/assets/css/bootstrap/bootstrap-grid.css}">
<link rel="stylesheet"
	th:href="@{/assets/css/bootstrap/bootstrap-reboot.css}">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">
<style>
a {
	text-decoration: none;
}
</style>
<!-- JS -->
<script th:src="@{/assets/js/jquery.min.js}"></script>
<script th:src="@{/assets/js/jquery-migrate-3.0.1.min.js}"></script>
<script th:src="@{/assets/js/popper.min.js}"></script>
<script th:src="@{/assets/js/bootstrap.min.js}"></script>
<script th:src="@{/assets/js/jquery.easing.1.3.js}"></script>
<script th:src="@{/assets/js/jquery.waypoints.min.js}"></script>
<script th:src="@{/assets/js/jquery.stellar.min.js}"></script>
<script th:src="@{/assets/js/owl.carousel.min.js}"></script>
<script th:src="@{/assets/js/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/assets/js/aos.js}"></script>
<script th:src="@{/assets/js/jquery.animateNumber.min.js}"></script>
<script th:src="@{/assets/js/scrollax.min.js}"></script>
<script
	src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
<script th:src="@{/assets/js/google-map.js}"></script>
<script th:src="@{/assets/js/main.js}"></script>
<script
	src="https://cdn.ckeditor.com/ckeditor5/29.0.0/classic/ckeditor.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</head>
<body>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<div class="container-fluid px-md-4	">
			<a class="navbar-brand" th:href="@{/homePage/home}">Work</a>
			<div class="collapse navbar-collapse" id="ftco-nav">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item active"><a th:href="@{/homePage/home}"
						class="nav-link">Trang chủ</a></li>
					<li class="'nav-item"><a href="/" class="nav-link"
						sec:authorize="hasRole('EMPLOYER')"
						th:href="@{/post/showPostList(page=0, companyId=${userLoggedIn.company.id})}">Danh
							sách bài đăng</a></li>
					<li class="nav-item"><a th:href="@{/showCandidates}" class="nav-link"
						sec:authorize="hasRole('EMPLOYER')">Ứng cử viên</a></li>
					<li class="nav-item cta mr-md-1"><a
						th:href="@{/post/showPostRecruitment}" class="nav-link"
						sec:authorize="hasRole('EMPLOYER')">Đăng tuyển</a></li>
					<li class="nav-item cta cta-colored"
						sec:authorize="!isAuthenticated()"><a
						th:href="@{/auth/loginRegisterPage}" class="nav-link">Đăng
							nhập</a></li>
					<li class="nav-item active" sec:authorize="isAuthenticated()"><a
						th:href="@{/profile/showProfile}" class="nav-link"
						th:text="'Hồ sơ:' + ${userLoggedIn.fullName}"></a></li>
					<li sec:authorize="isAuthenticated()">
						<form action="#" th:action="@{/logout}" method="post">
							<input type="submit"
								style="border: none; background-color: #FFFFFF; margin-top: 6px;"
								value="Đăng xuất" />
						</form>
					</li>
				</ul>
			</div>
			<!-- Nut dropdown -->
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#ftco-nav" aria-controls="ftco-nav"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
	</nav>
	<div class="hero-wrap hero-wrap-2"
		style="background-image: url('user/assets/images/bg_1.jpg');"
		data-stellar-background-ratio="0.5">
		<div class="overlay"></div>
		<div class="container">
			<div
				class="row no-gutters slider-text align-items-end justify-content-start">
				<div class="col-md-12 text-center mb-5">
					<p class="breadcrumbs mb-0">
						<span class="mr-3"><a th:href="@{/homePage/home}">Trang
								chủ <i class="ion-ios-arrow-forward"></i>
						</a></span>Danh sách <span></span>
					</p>
					<h1 class="mb-3 bread">Danh sách bài đăng</h1>
				</div>
			</div>
		</div>
	</div>
	<div th:if="${success}" class="toast" data-delay="2500"
		style="position: fixed; top: 100PX; left: 10PX; z-index: 2000; width: 300px">
		<script>
        swal({
            title: 'Thành công!',
            /* text: 'Redirecting...', */
            icon: 'success',
            timer: 3000,
            buttons: true,
            type: 'success'
        })
    </script>
	</div>
	<div th:if="${error}" class="toast" data-delay="2500"
		style="position: fixed; top: 100PX; left: 10PX; z-index: 2000; width: 300px">
		<script>
        swal({
            title: 'Bài đăng đang có người ứng tuyển!',
            /* text: 'Redirecting...', */
            icon: 'error',
            timer: 3000,
            buttons: true,
            type: 'error'
        })
    </script>
	</div>
	<section class="ftco-section bg-light">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 pr-lg-4">
					<div class="row">
						<th:block th:if="${list.content.size() == 0}">
							<div class="row form-group">
								<label for="company-website-tw d-block">Danh sách bài
									tuyển dụng </label> <br>
							</div>

						</th:block>
						<th:block th:if="${list.content.size() > 0}"
							th:each="recruitment : ${list.content}">
							<div class="col-md-12 ">
								<div
									class="job-post-item p-4 d-block d-lg-flex align-items-center">
									<div class="one-third mb-4 mb-md-0">
										<div class="job-post-item-header align-items-center">
											<span class="subadge" th:text="${recruitment.type}"></span>
											<h2 class="mr-3 text-black">
												<a th:text="${recruitment.title}"
													th:href="@{'/post/showDetailPost/' +${recruitment.id}}"></a>
											</h2>
										</div>
										<div class="job-post-item-body d-block d-md-flex">
											<div class="mr-3">
												<span class="icon-layers"></span> <a
													th:href="@{'/company/showDetailCompany/' + ${recruitment.company.id}}"
													th:text="${recruitment.Company.companyName}"></a>
											</div>
											<div>
												<span class="icon-my_location"></span> <span
													th:text="${recruitment.address}"></span>
											</div>
										</div>
									</div>

									<div
										class="one-forth ml-auto d-flex align-items-center mt-4 md-md-0"
										style="width: 330px !important;">
										<a th:href="@{'/post/showDetailPost/' +${recruitment.id}}"
											class="btn btn-primary py-2 ml-2">Xem chi tiết</a> <a
											th:href="@{'/post/showUpdatePost/' +${recruitment.id}}"
											class="btn btn-warning py-2 ml-2">Cập nhật</a> <a
											class="btn btn-danger py-2 ml-2" href="" data-toggle="modal"
											th:data-target="${'#exampleModal'} + ${recruitment.id}">Xóa</a>

									</div>
								</div>
							</div>
							<!-- end -->
							<!-- Modal -->
							<div class="modal fade"
								th:id="${'exampleModal'} + ${recruitment.id}" tabindex="-1"
								role="dialog" aria-labelledby="exampleModalLabel"
								aria-hidden="true">
								<div class="modal-dialog" role="document">
									<div class="modal-content">
										<div class="modal-header">
											<h5 class="modal-title" id="exampleModalLabel">Bạn có
												chắc chắn muốn xóa ?</h5>
											<button type="button" class="close" data-dismiss="modal"
												aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
										</div>
										<div class="modal-body">
											Bài đăng : <span th:text="${recruitment.title}"></span>
											<form th:action="@{/post/deletePost}" method="post">
												<input type="hidden" class="form-control" id="id" name="id"
													th:value="${recruitment.id}"> <input type="hidden"
													class="form-control" id="companyId" name="compId"
													th:value="${recruitment.company.id}">
												<div class="modal-footer mt-1">
													<button type="button" class="btn btn-secondary"
														data-dismiss="modal">Đóng</button>
													<button type="submit" class="btn btn-danger">Xóa</button>
												</div>
											</form>
										</div>

									</div>
								</div>
							</div>
							<!-- Modal -->
						</th:block>
					</div>

					<nav aria-label="Page navigation">
						<ul class="pagination justify-content-center"
							th:if="${list.totalPages != 0}">
							<!-- Số trang -->
							<li th:each="i : ${#numbers.sequence(0, list.totalPages - 1)}"
								class="page-item" th:class="${i == numberPage} ? 'active' : ''"><a
								class="page-link"
								th:href="@{/post/showPostList(page=${i}, companyId=${userLoggedIn.company.id})}"
								th:text="${i + 1}"></a></li>
						</ul>
					</nav>
				</div>

			</div>
		</div>
	</section>



	<script>
    ClassicEditor.create(document.querySelector('#editorN')).then(eidt => {
        console.log("da" + eidt);
    })
        .catch(error => {
            console.error(error);
        });
</script>

	<footer class="ftco-footer ftco-bg-dark ftco-section">&nbsp;&copy;
		Copyright 2024 </footer>
</body>
</html>